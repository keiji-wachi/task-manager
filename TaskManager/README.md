# タスク管理Webアプリ

## 概要
Java（Servlet / JSP）とMySQLを使用して作成した、タスク管理Webアプリです。
ログイン機能を備え、タスクの登録・一覧表示・更新・削除（CRUD）機能を実装しています。
MVCを意識した構成で、Servlet・JSP・DAO・Filterの役割分担を明確にしました。

---

## 使用技術
- Java 21
- Apache Tomcat 10
- JSP / Servlet
- MySQL 8.0
- JDBC
- HTML/CSS(Bootstrap)
- Eclipse (Pleiades)

---

## 機能一覧
- ログイン機能
- タスク一覧表示
- タスク登録
- ステータス更新
- タスク削除
- タスク検索
- ステータスによる絞り込み(未着手/対応中/完了)
- 未ログイン時のアクセス制御

---

## 画面構成

| 画面名 | URL | 説明 |
|--------|-----|------|
| ログイン画面 | /login | ユーザーID・パスワードでログイン |
| タスク一覧画面 | /tasks | タスクの一覧表示、検索、絞り込み、更新、削除 |
| タスク登録画面 | /tasks/new | 新規タスクの登録 |
| エラー画面 | 自動遷移 | 404/500発生時に表示 |


---


## システム構成
[ブラウザ画面]（JSPによる画面表示）
    ↓
[Filter]（ログインチェック）
    ↓
[Servlet]（処理）
    ↓
[DAO]（DBアクセス）
    ↓
[MySQL]

-JSP：画面表示
-Filter：未ログイン時のアクセス制御
-Servlet：リクエストの受付、処理の制御、画面遷移
-DAO：データベースアクセス処理

---

## 処理の流れ
1.ブラウザから /tasks にアクセス
		↓
2.Filterでログイン状態を確認
		↓
3.TaskListServlet が呼ばれる
		↓
4.TaskDao でDBからタスク一覧を取得
		↓
5.Servletで request.setAttribute() によりデータを設定
		↓
6.JSPに forward() して画面表示

---

## 工夫した点

本アプリでは、処理の役割分担を意識して設計しました。

-Servletはリクエスト処理と画面遷移の制御
-JSPは画面表示
-DAOはデータベースアクセス
-Filterは認証制御

というように機能を明確に分離しています。
また、タスクの一覧表示では、DBの主キー（id）とは別に、画面上では連番の「No」を表示するようにし、
削除後に番号が飛ぶ違和感をUI側で解消しました。

## 苦労した点


本アプリの開発で特に苦労した点は、DAOの設計、ServletとJSPの連携、Filterによるログイン制御の3点です。

（DAOの設計）
最初はServlet内にSQLを書いていましたが、処理が増えるにつれてコードが複雑になり、可読性や保守性に問題が出てきました。
そこで、DBアクセス処理をDAOクラスに分離し、Servletはリクエスト処理のみに専念させる構成に変更しました。
また、単純なList<String>ではなく、Taskクラスを作成してList<Task>として扱うことで、更新・削除処理を自然に実装できるようにしました。

（ServletとJSPの連携）
ServletとJSPの役割の違いを理解するのに時間がかかりました。
特に、ServletからJSPにデータを渡す際のrequestスコープやsetAttributeの使い方、forwardとsendRedirectの使い分けで混乱しました。
最終的には、Servletは処理、JSPは表示という役割分担を明確にし、データの流れを整理しました。

（Filterによるログイン制御）
未ログインユーザーのアクセス制御を実装する際に、Filterの仕組みを理解するのが難しかったです。
Servlet内で制御する方法も検討しましたが、Filterを使用することでリクエストの入口で認証処理を一元管理できるようにしました。
これにより、セキュリティと保守性の両方を向上させることができました。


## 今後の改善点
-パスワードのハッシュ化（現在は学習用のため平文管理）
-ページング機能の追加（件数が増えた場合の対応）
-ユーザー管理機能の追加（複数ユーザー対応）
-JSPのスクリプトレットを、EL / JSTLを使用した実装に改善

## デモ動画

URL：https://youtu.be/L2Pj_2Cclvc

本アプリの動作を確認できるデモ動画です。  
以下の流れで操作しています。

1. ログイン（Filterによる未ログインユーザーのアクセス制御）
2. タスク一覧表示
3. 「demo」タスクの登録
4. 「demo」タスクのステータス更新（未着手 → 対応中）
5. ステータスによる絞り込み
6. タイトルによる検索
7. 「demo」タスクの削除
8. ログアウト